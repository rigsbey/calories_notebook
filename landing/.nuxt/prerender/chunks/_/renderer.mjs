import{createRenderer as e,getRequestDependencies as t,getPreloadLinks as n,getPrefetchLinks as o}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/vue-bundle-renderer/dist/runtime.mjs";import{getResponseStatusText as r,getResponseStatus as s,getQuery as a,createError as i,appendResponseHeader as l}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/h3/dist/index.mjs";import{joinRelativeURL as c,joinURL as d,withoutTrailingSlash as p}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/ufo/dist/index.mjs";import{renderToString as u}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/vue/server-renderer/index.mjs";import{u as h,a as m,d as f,g,b as y}from"../nitro/nitro.mjs";import{createHead as x,propsToString as b,renderSSRHead as w}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/unhead/dist/server.mjs";import{stringify as _,uneval as j}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/devalue/index.js";import{FlatMetaPlugin as v,DeprecationsPlugin as k,PromisesPlugin as R,TemplateParamsPlugin as C,AliasSortingPlugin as P}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/unhead/dist/plugins.mjs";import{walkResolver as T}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/unhead/dist/utils.mjs";import{toValue as A,isRef as U,hasInjectionContext as S,inject as L,ref as z,watchEffect as H,getCurrentInstance as $,onBeforeUnmount as M,onDeactivated as I,onActivated as N}from"file:///Users/kamil/PycharmProjects/calories_notebook/landing/node_modules/vue/index.mjs";const VueResolver=(e,t)=>U(t)?A(t):t,O="usehead";function injectHead(){if(S()){const e=L(O);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function useHead(e,t={}){const n=t.head||injectHead();return n.ssr?n.push(e||{},t):function(e,t,n={}){const o=z(!1);let r;H(()=>{const s=o.value?{}:T(t,VueResolver);r?r.patch(s):r=e.push(s,n)});$()&&(M(()=>{r.dispose()}),I(()=>{o.value=!0}),N(()=>{o.value=!1}));return r}(n,e,t)}function useSeoMeta(e={},t={}){(t.head||injectHead()).use(v);const{title:n,titleTemplate:o,...r}=e;return useHead({title:n,titleTemplate:o,_flatMeta:r},t)}function createHead(e={}){const t=x({...e,propResolvers:[VueResolver]});return t.install=function(e){return{install(t){t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(O,e)}}.install}(t),t}const B={meta:[{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"utf-8"},{name:"description",content:"Telegram-бот для анализа питания. Отправь фото еды - получи расчет КБЖУ и калорий за 5 секунд. Автоматическое сохранение в Google Calendar. Бесплатно!"},{name:"keywords",content:"telegram бот подсчет калорий, анализ питания по фото, КБЖУ калькулятор"},{name:"author",content:"Calories Notebook Bot"},{name:"robots",content:"index, follow"},{name:"googlebot",content:"index, follow"},{name:"google-site-verification",content:"cJxB6xaxazRAHUhm1d7MgbgciM8QiVZY0Vg4TIwbhe8"},{name:"theme-color",content:"#667eea"},{name:"msapplication-TileColor",content:"#667eea"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"icon",type:"image/png",href:"/favicon.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"96x96",href:"/favicon-96x96.png"},{rel:"apple-touch-icon",sizes:"57x57",href:"/apple-icon-57x57.png"},{rel:"apple-touch-icon",sizes:"60x60",href:"/apple-icon-60x60.png"},{rel:"apple-touch-icon",sizes:"72x72",href:"/apple-icon-72x72.png"},{rel:"apple-touch-icon",sizes:"76x76",href:"/apple-icon-76x76.png"},{rel:"apple-touch-icon",sizes:"114x114",href:"/apple-icon-114x114.png"},{rel:"apple-touch-icon",sizes:"120x120",href:"/apple-icon-120x120.png"},{rel:"apple-touch-icon",sizes:"144x144",href:"/apple-icon-144x144.png"},{rel:"apple-touch-icon",sizes:"152x152",href:"/apple-icon-152x152.png"},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-icon-180x180.png"},{rel:"apple-touch-icon",href:"/apple-icon.png"},{rel:"apple-touch-icon-precomposed",href:"/apple-icon-precomposed.png"},{rel:"icon",type:"image/png",sizes:"36x36",href:"/android-icon-36x36.png"},{rel:"icon",type:"image/png",sizes:"48x48",href:"/android-icon-48x48.png"},{rel:"icon",type:"image/png",sizes:"72x72",href:"/android-icon-72x72.png"},{rel:"icon",type:"image/png",sizes:"96x96",href:"/android-icon-96x96.png"},{rel:"icon",type:"image/png",sizes:"144x144",href:"/android-icon-144x144.png"},{rel:"icon",type:"image/png",sizes:"192x192",href:"/android-icon-192x192.png"},{rel:"msapplication-TileImage",content:"/ms-icon-144x144.png"},{rel:"msapplication-config",content:"/browserconfig.xml"},{rel:"manifest",href:"/manifest.json"},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"},{rel:"preconnect",href:"https://t.me"},{rel:"dns-prefetch",href:"https://t.me"}],style:[],script:[{innerHTML:"\n            (function(m,e,t,r,i,k,a){\n                m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};\n                m[i].l=1*new Date();\n                for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}\n                k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)\n            })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=104330611', 'ym');\n\n            ym(104330611, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:\"dataLayer\", accurateTrackBounce:true, trackLinks:true});\n          ",type:"text/javascript"}],noscript:[{innerHTML:'<div><img src="https://mc.yandex.ru/watch/104330611" style="position:absolute; left:-9999px;" alt="" /></div>'}],charset:"utf-8",viewport:"width=device-width, initial-scale=1",title:"Telegram-бот для подсчета калорий по фото | Calories Bot"},E={id:"teleports"};function baseURL(){return h().app.baseURL}function buildAssetsURL(...e){return c(publicAssetsURL(),h().app.buildAssetsDir,...e)}function publicAssetsURL(...e){const t=h().app,n=t.cdnURL||t.baseURL;return e.length?c(n,...e):n}const D=`<div${b({id:"__nuxt"})}>`,F="</div>",getClientManifest=()=>import("../build/client.manifest.mjs").then(e=>e.default||e).then(e=>"function"==typeof e?e():e),J=lazyCachedFunction(async()=>{const t=await getClientManifest();if(!t)throw new Error("client.manifest is not available");const n=await import("../build/server.mjs").then(e=>e.default||e);if(!n)throw new Error("Server bundle is not available");return e(n,{manifest:t,renderToString:async function(e,t){const n=await u(e,t);return D+n+F},buildAssetsURL:buildAssetsURL})}),X=lazyCachedFunction(async()=>{const t=await getClientManifest(),n=await import("../virtual/_virtual_spa-template.mjs").then(e=>e.template).catch(()=>"").then(e=>D+e+F),o=e(()=>()=>{},{manifest:t,renderToString:()=>n,buildAssetsURL:buildAssetsURL}),r=await o.renderToString({});return{rendererContext:o.rendererContext,renderToString:e=>{const t=h(e.event);return e.modules||=new Set,e.payload.serverRendered=!1,e.config={public:t.public,app:t.app},Promise.resolve(r)}}});function lazyCachedFunction(e){let t=null;return()=>(null===t&&(t=e().catch(e=>{throw t=null,e})),t)}const q=lazyCachedFunction(()=>import("../build/styles.mjs").then(e=>e.default||e)),V=m("internal:nuxt:prerender:payload");function renderPayloadResponse(e){return{body:_(splitPayload(e).payload,e._payloadReducers),statusCode:s(e.event),statusMessage:r(e.event),headers:{"content-type":"application/json;charset=utf-8","x-powered-by":"Nuxt"}}}function renderPayloadJsonScript(e){const t={type:"application/json",innerHTML:e.data?_(e.data,e.ssrContext._payloadReducers):"","data-nuxt-data":"nuxt-app","data-ssr":!e.ssrContext.noSSR,id:"__NUXT_DATA__"};e.src&&(t["data-src"]=e.src);return[t,{innerHTML:`window.__NUXT__={};window.__NUXT__.config=${j(e.ssrContext.config)}`}]}function splitPayload(e){const{data:t,prerenderedAt:n,...o}=e.payload;return{initial:{...o,prerenderedAt:n},payload:{data:t,prerenderedAt:n}}}m("internal:nuxt:prerender:island"),m("internal:nuxt:prerender:island-props");const Y={disableDefaults:!0,disableCapoSorting:!1,plugins:[k,R,C,P]},G=new Set(["/index.html","/200.html","/404.html"]);const Q={omitLineBreaks:!1};globalThis.__buildAssetsURL=buildAssetsURL,globalThis.__publicAssetsURL=publicAssetsURL;const W=!!E.id,Z=W?`<div${b(E)}>`:"",K=W?"</div>":"",ee=/^[^?]*\/_payload.json(?:\?.*)?$/,te="_payload.json",ne=f(async e=>{const c=y(),u=e.path.startsWith("/__nuxt_error")?a(e):null;if(u&&!("__unenv__"in e.node.req))throw i({statusCode:404,statusMessage:"Page Not Found: /__nuxt_error"});const m=function(e){const t={url:e.path,event:e,runtimeConfig:h(e),noSSR:e.context.nuxt?.noSSR||G.has(e.path),head:createHead(Y),error:!1,nuxt:void 0,payload:{},_payloadReducers:Object.create(null),modules:new Set};return t.payload.prerenderedAt=Date.now(),t}(e),f={mode:"server"};m.head.push(B,f),u&&(u.statusCode&&=Number.parseInt(u.statusCode),function(e,t){e.error=!0,e.payload={error:t},e.url=t.url}(m,u));const x=ee.test(m.url);if(x){const t=m.url.substring(0,m.url.lastIndexOf("/"))||"/";if(m.url=t,e._path=e.node.req.url=t,await V.hasItem(t))return V.getItem(t)}const b=g(e);!1===b.ssr&&(m.noSSR=!0);const _=!m.noSSR,j=_?d(m.runtimeConfig.app.cdnURL||m.runtimeConfig.app.baseURL,m.url.replace(/\?.*$/,""),te)+"?"+m.runtimeConfig.app.buildId:void 0,v=await function(e){return e.noSSR?X():J()}(m);for(const e of await getClientManifest().then(e=>Object.values(e).filter(e=>e._globalCSS).map(e=>e.src)))m.modules.add(e);const k=await v.renderToString(m).catch(async e=>{if(m._renderResponse&&"skipping render"===e.message)return{};const t=!u&&m.payload?.error||e;throw await(m.nuxt?.hooks.callHook("app:error",t)),t}),R=m._renderResponse||x?[]:await async function(e){const t=await q(),n=new Set;for(const o of e)if(o in t&&t[o])for(const e of await t[o]())n.add(e);return Array.from(n).map(e=>({innerHTML:e}))}(m.modules??[]);if(await(m.nuxt?.hooks.callHook("app:rendered",{ssrContext:m,renderResult:k})),m._renderResponse)return m._renderResponse;if(m.payload?.error&&!u)throw m.payload.error;if(x){const e=renderPayloadResponse(m);return await V.setItem(m.url,e),e}_&&(l(e,"x-nitro-prerender",d(m.url.replace(/\?.*$/,""),te)),await V.setItem(p(m.url),renderPayloadResponse(m)));const C=b.noScripts,{styles:P,scripts:T}=t(m,v.rendererContext);_&&!C&&m.head.push({link:[{rel:"preload",as:"fetch",crossorigin:"anonymous",href:j}]},f),m._preloadManifest&&!C&&m.head.push({link:[{rel:"preload",as:"fetch",fetchpriority:"low",crossorigin:"anonymous",href:buildAssetsURL(`builds/meta/${m.runtimeConfig.app.buildId}.json`)}]},{...f,tagPriority:"low"}),R.length&&m.head.push({style:R});const A=[];for(const e of Object.values(P))A.push({rel:"stylesheet",href:v.rendererContext.buildAssetsURL(e.file),crossorigin:""});if(A.length&&m.head.push({link:A},f),C||(m.head.push({link:n(m,v.rendererContext)},f),m.head.push({link:o(m,v.rendererContext)},f),m.head.push({script:renderPayloadJsonScript(_?{ssrContext:m,data:splitPayload(m).initial,src:j}:{ssrContext:m,data:m.payload})},{...f,tagPosition:"bodyClose",tagPriority:"high"})),!b.noScripts){const e="head";m.head.push({script:Object.values(T).map(t=>({type:t.module?"module":null,src:v.rendererContext.buildAssetsURL(t.file),defer:!t.module||null,tagPosition:e,crossorigin:""}))},f)}const{headTags:U,bodyTags:S,bodyTagsOpen:L,htmlAttrs:z,bodyAttrs:H}=await w(m.head,Q),$={htmlAttrs:z?[z]:[],head:normalizeChunks([U]),bodyAttrs:H?[H]:[],bodyPrepend:normalizeChunks([L,m.teleports?.body]),body:[k.html,Z+(W?joinTags([m.teleports?.[`#${E.id}`]]):"")+K],bodyAppend:[S]};return await c.hooks.callHook("render:html",$,{event:e}),{body:(M=$,`<!DOCTYPE html><html${joinAttrs(M.htmlAttrs)}><head>${joinTags(M.head)}</head><body${joinAttrs(M.bodyAttrs)}>${joinTags(M.bodyPrepend)}${joinTags(M.body)}${joinTags(M.bodyAppend)}</body></html>`),statusCode:s(e),statusMessage:r(e),headers:{"content-type":"text/html;charset=utf-8","x-powered-by":"Nuxt"}};var M});function normalizeChunks(e){return e.filter(Boolean).map(e=>e.trim())}function joinTags(e){return e.join("")}function joinAttrs(e){return 0===e.length?"":" "+e.join(" ")}const oe=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{useSeoMeta as a,baseURL as b,O as h,publicAssetsURL as p,oe as r,useHead as u};
//# sourceMappingURL=renderer.mjs.map
