---
globs: utils.py
---

# Утилиты проекта

## Логирование:
- setup_logging() - настройка системы логирования
- Логи в файлы с датой в названии (bot_YYYYMMDD.log)
- Отключение избыточного логирования библиотек
- Кодировка UTF-8 для корректного отображения русского текста

## Обработка ошибок:
- Декоратор @error_handler для автоматической обработки
- Логирование ошибок с полной информацией (exc_info=True)
- Отправка понятных сообщений пользователю

## Очистка файлов:
- clean_temp_files() - удаление старых временных файлов
- Автоматическая очистка при запуске и завершении
- Настраиваемый возраст файлов для удаления (по умолчанию 24 часа)

## Форматирование:
- format_nutrition_info() - красивое отображение КБЖУ
- format_vitamins_section() - инфографика витаминов с прогресс-барами
- create_vitamin_bar() - создание эмодзи прогресс-баров
- get_vitamin_emoji() - эмодзи для витаминов и минералов